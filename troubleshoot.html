<!doctype hmtl>
<html>
<head>
    <link rel="stylesheet" href="builder.css">
    <script src = "js/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1 class = "title">
        TrackBody
    </h1>
    <h2 class = "title">
        Program Builder
    </h2>
    <div id = "container">
        <form id = "form">
            <p class = "blockformat">Block</p><div class = "blockformat" id = "block">
            1
            </div>
            <div id = "unordered">
                <div id = "section">
                    <ul id = "addnew">
                        <li class = "border">    
                            <label for="exercise">Exercise</label>
                            <select id="exercise" name="exercise_list"> 
                                <optgroup label="Lower Body">
                                <option value="back_squat">Back Squat</option>
                                <option value="front_squat">Front Squat</option>
                                <option value="deadlift">Deadlift</option>
                                
                                <optgroup label="Upper Body">
                                <option value="overhead_press">Overhead Press</option>
                                <option value="bench_press">Bench Press</option>
                                </optgroup>
                            </select><br>
                        </li>

                        <li class = "border">
                            <label for="sets">Sets</label>
                            <select id="sets" name="exercise_list"> 
                                <optgroup label="">
                                <option value="one">1</option> 
                                <option value="two">2</option>
                                <option value="three">3</option>
                                <option value="four">4</option>
                                <option value="five">5</option>
                                <option value="six">6</option>
                                <option value="seven">7</option>
                                <option value="eight">8</option>
                                <option value="nine">9</option>
                                <option value="ten">10</option>
                                </optgroup>
                            </select><br>
                        </li>
                    
                        <li class = "border">
                            <label for="reps">Reps</label>
                            <select id="reps" name="exercise_list"> 
                                <optgroup label="">
                                <option value="one">1</option>
                                <option value="two">2</option>
                                <option value="three">3</option>
                                <option value="four">4</option>
                                <option value="five">5</option>
                                <option value="six">6</option>
                                <option value="seven">7</option>
                                <option value="eight">8</option>
                                <option value="nine">9</option>
                                <option value="ten">10</option>
                                </optgroup>
                            </select><br>
                        </li>

                        <li class = "border">
                            <label for="intensity">Intensity</label>
                            <input class="format" type="text" id="intensity" name="intensity" maxlength="10" size="15">

                            <select id="exercise" name="exercise_list"> 
                                <optgroup label="">
                                <option value="percent">Percent</option>
                                <option value="pounds">Pounds</option>
                                <option value="kilograms">Kilograms</option>
                                <option value="rpe">RPE</option>
                                <option value="rpe">Velocity</option>
                                </optgroup>
                            </select><br>
                        </li>
                    </ul>
                </div>
            </div>
        <button id = "combo" class="submit-button" type="button" onclick="addinsideblock();">Add Exercise
        </button>
        </form>
    </div>
    
    <button id = "clicker" class="submit-button" type="button" onclick="addmoreblocks();">Add New Block</button>
    <button id="save-button" type="submit">Save</button>
    
</body>
    
<script>

//var template = $('#unordered .section:first').clone();

//.appendTo('#unordered');

const section = document.getElementById('section')

const mainform = document.getElementById('form');

const addexercise = document.getElementById('addnew');

const button = document.getElementById('clicker');

const addstuff = document.getElementById("unordered");

const saveButton = document.getElementById('save-button');

const div = document.getElementById('container');

function addanotherinsideblock(){
    let addexercise_two = addstuff.cloneNode(true);
    addnew.append(addexercise_two);
}

function addinsideblock(){ 
  let newul = addexercise.cloneNode(true)
  let newlist = addexercise.children;
  //let newlistItem = newlist[0];
  //let newlistCopy = newlistItem.cloneNode(true);

  //let newlist2 = addexercise.children;
  let newlistItem2 = newlist[1];
  let newlistCopy2 = newlistItem2.cloneNode(true);

  //let newlist3 = addexercise.children;
  let newlistItem3 = newlist[2];
  let newlistCopy3 = newlistItem3.cloneNode(true);

  let newlistItem4 = newlist[3];
  let newlistCopy4 = newlistItem4.cloneNode(true);
  //appendhere.append(newlistCopy, newlistCopy2, newlistCopy3, newlistCopy4);

  //newul.append(newlistCopy, newlistCopy2, newlistCopy3, newlistCopy4);
  //addexercise.append(newul);
  newul.id = "superset";
  addstuff.append(newul);
}
//*******Experiment here*********
//const form = document.getElementsByClassName('form')

function addmoreblocks(){
  let formClone = mainform.cloneNode(false);
  //let p = document.getElementsByClassName("blockformat");
  //let pclone = p.cloneNode(false);
  let addstuffclone = addstuff.cloneNode(false);
  let addexerciseclone = addexercise.cloneNode(false);
  let sectionClone = section.cloneNode(true);
  let button = document.getElementById('combo');
  let cloneButton = button.cloneNode(true);
  div.append(formClone);
  formClone.append(sectionClone, cloneButton);
  //formClone.append(pclone);
  //formClone.append(addstuffclone);
  //formClone.append(addexerciseclone);
}

//const list = document.getElementById('addnew');



//**use this!**div.first().appendTo(addstuff);


function addnewblock() {
  //let forms = div.getElementsByClassName('form');
  //let firstForm = forms[0];
  //let formClone = firstForm.cloneNode(true);
  //**Dont use this one at all**formClone.className = "newblock";
  //let template = $('#unordered.section').clone();
  div.append(template);

  //div.append(formClone);
  div.append(button);
  div.append(saveButton);
}

//const form = document.getElementsByClassName('form')

function addlist() {
    let stuff = form.getElementById('addnew');
    let morestuff = stuff[0];
    let stuffclone = morestuff.cloneNode(true);
    form.append(stuffclone);
}


$("form").css("background-color", "blue");
$( "li" ).first().css( "background-color", "red" );
$( "li" ).last().css( "background-color", "green" );
$("div").first().css("background-color", "pink");
</script>

</html>